<p-toast></p-toast>

<form (ngSubmit)="modoEdicion ? actualizarProducto() : agregarProducto()" #productoForm="ngForm" class="p-fluid">
  <h2 class="mb-4">{{ modoEdicion ? 'Editar producto' : 'Agregar producto nuevo' }}</h2>

  <div class="field mb-3">
    <label for="nombre" class="block text-900 font-medium label-spacing">Nombre</label>
    <input id="nombre" type="text" pInputText [(ngModel)]="producto.nombre" name="nombre" required class="w-full" />
  </div>

  <div class="field mb-3">
    <label for="precio" class="block text-900 font-medium mb-2 label-spacing">Precio</label>
    <input id="precio" type="number" pInputText [(ngModel)]="producto.precio" name="precio" required class="w-full" />
  </div>

  <div class="field mb-3">
    <select id="categoria" [(ngModel)]="producto.categoria" name="categoria" required class="w-full custom-select">
      <option value="" disabled selected>Seleccione una categoría</option>
      <option *ngFor="let cat of categorias" [value]="cat.value">{{ cat.label }}</option>
    </select>
  </div>  

  <div class="field mb-3">
    <label for="descripcion" class="block text-900 font-medium mb-2 label-spacing">Descripción</label>
    <textarea id="descripcion" pInputTextarea [(ngModel)]="producto.descripcion" name="descripcion" rows="4" class="w-full"></textarea>
  </div>

  <div class="field">
    <button
      pButton
      type="submit"
      [label]="modoEdicion ? 'Actualizar Producto' : 'Agregar Producto'"
      [disabled]="productoForm.invalid"
      class="w-full guardar-button">
    </button>
  </div>
</form>
